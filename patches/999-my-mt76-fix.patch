From: CI Patch <ci@example.com>
Subject: [PATCH] mt7615: add runtime option to bypass TSSI / force online calibration

--- a/package/kernel/mt76/mt7615/mac.c
+++ b/package/kernel/mt76/mt7615/mac.c
@@ -1,6 +1,28 @@
 /* keep existing includes */
 #include <linux/module.h>
 #include <linux/kernel.h>
+#include <linux/param.h>
+
+/* Runtime knob to bypass TSSI/EEPROM-based TX power calibration and force
+ * the driver to use online calibration paths (e.g. in-band/autocal).
+ *
+ * Use this when upstream EEPROM data or TSSI logic is known-broken or
+ * you prefer dynamic calibration (typical for snapshots & testing).
+ *
+ * Default: enabled (bypass TSSI), change via module parameter if needed.
+ */
+static bool mt7615_bypass_tssi = true;
+module_param(mt7615_bypass_tssi, bool, 0444);
+MODULE_PARM_DESC(mt7615_bypass_tssi, "Bypass mt7615 TSSI/EEPROM TXpower calibration and use runtime calibration");
 
 /* example: in newer mt7615 sources the set_txpower or init path calls
  * a calibration routine â€” we add a safe conditional hook so that when
  * mt7615_bypass_tssi is true those calibration entry-points are skipped
  * or forced to runtime flows.
  */
@@
 static void mt7615_some_init_function(struct mt7615_phy *phy)
 {
+    /* Defensive bypass: if the param is set, disable direct TSSI/eeprom
+     * enforced power adjustments here and log for visibility. The exact
+     * symbols/functions differ between mt76 revisions; we guard with
+     * presence checks where possible.
+     */
+    if (mt7615_bypass_tssi) {
+#if defined(CONFIG_MT76) || defined(CONFIG_MT7615)
+        /* Best-effort: clear any PHY flags that indicate 'use EEPROM precal' */
+        if (phy && phy->mt76 && phy->mt76->dev) {
+            dev_info(phy->mt76->dev, "mt7615: bypassing TSSI/EEPROM TXpower calibrations (runtime enabled)\n");
+        }
+        /* If driver exposes direct tssi flag, prefer runtime path. This
+         * is intentionally non-invasive: we avoid referencing removed fields.
+         */
+#endif
+    }
 
     /* original init body follows (unchanged) */
